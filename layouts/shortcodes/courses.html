{{ if eq (.Get 0) "all" }}
<table class="course-table">
  <tr>
    <th></th>
    <th>Alkeet</th>
    <th>Alkeet <br> oma pari</th>
    <th>Alkeisjatko</th>
    <th>Jatko</th>
  </tr>
  {{ range sort .Site.Data.courses ".date" "asec" }}
  {{ if eq .message "" }}
  <tr>
    {{ $t := time .date }}
    <th class="date">{{ $t.Day }}.{{ printf "%d" $t.Month }}</th>
    <td>{{ .alkeet }}</td>
    <td>{{ .alkeetOma }}</td>
    <td>{{ .alkeisjatko }}</td>
    <td>{{ .jatko }}</td>
  </tr>
  {{ else }}
  <tr>
    {{ $t := time .date }}
    <th>{{ $t.Day }}.{{ printf "%d" $t.Month }}</th>
    <td colspan="4">{{ .message }}</td>
  </tr>
  {{ end }}
  {{ end }}
</table>
{{ end }}

{{ if eq (.Get 0) "firstThree" }}
{{ $courses := first 3 (sort (where .Site.Data.courses ".date" "ge" (now.Format "2006-01-02")) ".date" "asec") }}
<div>
<h2>Seuraavat kurssit</h2>
{{ if eq ($courses | len) 0 }}
<p>Viikottaiset kurssit ovat loppu tältä erää. Ensi kaudella taas lisää!</p>
<p>Kurssien alkamisajankohdan muistutuksen voi tilata sähköpostiin. Sähköpostia käytetään vain tähän tarkoitukseen, ja muistutuksen jälkeen sähköpostiosoite poistetaan järjestelmästä pysyvästi.</p>
{{ else }}
<table class="course-table">
  <tr>
    <th></th>
    {{ range $courses }}
    {{ $t := time .date }}
    <th class="date-courses">{{ $t.Day }}.{{ printf "%d" $t.Month }}.</th>
    {{ end }}
  </tr>
  <tr>
    <th>Alkeet</th>
    {{ range $courses }}
    <td class="trigger">{{ .alkeet }}</td>
    {{ end }}
  </tr>
  <tr>
    <th>Alkeet <br> oma pari</th>
    {{ range $courses }}
    <td class="trigger">{{ .alkeetOma }}</td>
    {{ end }}
  </tr>
  <tr>
    <th>Alkeisjatko</th>
    {{ range $courses }}
    <td>{{ .alkeisjatko }}</td>
    {{ end }}
  </tr>
  <tr>
    <th>Jatko</th>
    {{ range $courses }}
    <td>{{ .jatko }}</td>
    {{ end }}
  </tr>
</table>
</div>
{{ end }}
{{ end }}
